\chapter{Evaluation}
Since design usability was the salient point of this project, a user study was a good way to assess its performance. After gaining approval from the Ethics board, a pilot study was run, followed by the actual user study. The results confirm the hypotheses - users learnt how to use the system after one use, and they were able to modify their chart faster in Sketchography compared to Excel. A description of the study and a summary of the results follows; for the entire questionnaire and full data analysis, see appendix blah.
%TODO Add reference to appendix ^

\section{Study Goals}
In the Introduction \ref{cha:introduction}, it was hypothesized that the direct manipulation and liveness of this system would offer two advantages:

\begin{enumerate}
\item[H1] This interface is more 'learnable' over time
\item[H2] It encourages exploratory data visualisation creation by making modification easier
\end{enumerate}

Hence, the study was design to evaluate whether these two properties were achieved. 

\subsection*{Learnability}
To see whether the interface is learnable over time, users were asked to carry out a very similar task twice, and their times across tasks were compared. If the user shows a statistically significant improvement in the time taken to carry out the task, then they are learning how to use the interface, and becoming better at using it. The chosen task is to import (mock) data and create a bar chart.

To make this experiment fair, the tasks must be phrased very carefully. The tasks must be very similar, to make sure one isn't systematically harder or easier, but not so similar that users can mechanically follow the same steps without even understanding the problem.

In addition, the tasks must tell the user what output is expected, without explicitly listing every single step required to get there. This didn't hold true for the first draft of the task descriptions, an example of which is below.

\begin{quotation}
Task A:
\begin{enumerate}
\item Load the `Task A.xlsx' file.
\item Create a bar chart of `Births' and `Deaths', with `Year' on the X Axis.
\end{enumerate}
\end{quotation}

Clearly, this would leave little room for users to demonstrate that they have learnt how to use the application, since the task guides them through exactly what they need to do. Thus, the task was rephrased to focus on the problem (note, the data schema of the file was also changed to focus on differences between countries rather than years).

\begin{quotation}
Task A:

You work in a government agency and are trying to see how population is growing in 4 different countries. The ‘Task A’ file contains information regarding how many births and deaths occurred in 1 year in each country (the numbers are scaled to account for population). 

Use the Sketchography app to create a column bar chart that will allow someone to compare birth and death rates across the countries.

Speak out aloud the name of the country where the population is declining (where the death rate is larger than the birth rate).

\end{quotation}

This is better, since the user now needs to understand the context of the problem, grasp which data is relevant and which fields need to go on each axis for them to notice the trend required.

\subsubsection*{Modification}
To see whether the interface encourages exploration, the time required to make a specific modification in Sketchography needed to be compared to the time required for the same modification in users' usual chart editor. The only other chart editor we compared was Microsoft Excel, which proved a sensible decision since all the final study participants indicated that Excel was their tool of choice for making charts, and only 2 out of 10 had actually used anything else to create a chart.

To make the comparison fair, we needed a modification that was a reasonable change to make quickly, and was supported by both editors. Two such changes are to change the width of the bars, and to change the height of the bars, without changing the dimensions of the chart itself. In the pilot study, some participants were asked to change the height, while others were asked to change the width. However, in Excel, the user has no direct control over the width of the bars. Instead, they have to do this indirectly by changing a 'Gap Width' setting, which controls the space between the bars. This indirection was not a perfect analogue to the method to change the bar width in Sketchography, so some users never identified how to make this change. Thus, in the final user study, we focused instead just on changing the height of the bar.

\subsubsection*{Other factors}
A number of factors could affect people's performance on these tasks. For example, users who regularly create charts in Excel might be faster. Additionally, since Excel relies heavily on text, while Sketchography largely uses visual metaphors, non-native English speakers may be faster with Sketchography. To investigate how these factors affect the two measures above, a questionnaire was given to users following their completion of the tasks, asking:

\begin{enumerate}
\item How often do you make charts for work or studies?
\item What tool do use for making these charts?
\item How many years have you been using that tool for?
\item Have you used Microsoft Excel to make charts?
\end{enumerate}

Additionally, they were asked some open-ended questions to gain qualitative observations on their thoughts on Excel and Sketchography.

The exact phrasing of the questionnaire and the task descriptions is in the Appendix Blah.
%TODO Insert reference to appendix.


\section{Pilot Study}
The pilot study was conducted on 3 participants, all grad students at the University of Cambridge Computer Lab, who were not paid for their time. It was carried out in a controlled lab environment, with a video recording set up that focussed on their interactions with the application, and also recorded what they were saying as they interacted with it.

The study proceeded as follows:
\begin{enumerate}
\item The participant signs a form indicating his consent to participating, and being recorded for the purposes of the study. They are also informed that they are being timed not to assess their own performance, but that of the system, in order to put them at rest.
\item I demonstrate the system to them by importing a data file, creating a bar chart, switching between formal and informal views and resetting the application to its initial state.
\item I explain that they will be given a task description on a slip of paper, and can take as long as they like to read it. When they are ready, I will start timing. I will not answer any questions they may have about the system.
\item The Surface tablet is presented to them, with the application open in its initial state. The default folder when the `Open File' dialogue is opened contains only the three Excel files they need for their tasks, and are named `Task A.xlsx' and so on.
\item They are given the 2 creation tasks, followed by the two modification tasks. Comments they make out loud during this time are noted down. 
\item After they finish all 4 tasks, they are given the questionnaire.
\item After they finish the questionnaire, they are free to leave. Most stay to make comments about the software, which are also noted down.
\end{enumerate}

The key things we learnt were:
\begin{enumerate}
\item The task descriptions gave the steps in too much detail, as described above.
\item The width modification task isn't appropriate, as described above.
\item Despite it being subtly mentioned that each chart element must be drawn with an individual stroke, some users draw both the X and Y axis in one stroke as an `L' shape. The program is modified before the final study to recognise these axes correctly and instantiate the two Axis objects accordingly. 
\end{enumerate}

There were no structural issues with the way the study itself was carried out, but the timing techniques and the script used during the demonstration did get refined with practice, making for a more valid final user study.

\section{User Study}
Since there were no issues with the structure of the pilot study, the user study was carried out the same way. To get a fair mix of native and non-native English speakers, it was carried out in India. The participants recruited also had varied levels of experience with Microsoft Excel. 10 participants, all friends and family, were recruited.

One issue that our pilot study had not caught that surfaced in the user study was to do with the recognition of the bars. Some of the Indian participants drew bars as two strokes, which none of the English participants had done. Thus, one of the strokes making up the bar would get recognised as an axis rather than a bar. This led to some interesting observations. The program has the ability to erase and redraw strokes that have been misclassified. However, for the purposes of the study, this feature was not demonstrated to users for 2 reasons:
\begin{enumerate}
\item The eraser is one of the less discoverable aspects of the application. Any of the participants could have noticed the eraser like shape at the end of the stylus and tried pressing it. I wanted to see if any users would discover this on their own, without being shown. None of the 10 did so, presumably because users have previously been familiar only with capacitative styluses that don't have such a feature. 
\item No matter how robust the stroke recogniser is made, there will be classification errors during usage. It was important to note how users react to this, understand what has happened, and correct the problem.
\end{enumerate} 

In practice, each of the users who made these split bars found a way around this. Some took the less desirable option of hitting `Reset' and starting over, but the majority just drew over their previous sketches. When a new axis was drawn, the old, misinterpreted one was forgotten, and the chart got corrected. Then, the user would draw the bar with one stroke as required.

\subsection{Learnability}
Our hypothesis was that the time taken for the creation task the second time around would be lower, and this was confirmed by a Paired T Test as shown below.

\begin{verbatim}
> t.test(Task1, Task2, paired = TRUE)

	Paired t-test

data:  Task1 and Task2
t = 5.2186, df = 9, p-value = 0.0005502
alternative hypothesis: true difference in means 
is not equal to 0
95 percent confidence interval:
 23.34058 59.05942
sample estimates:
mean of the differences 
                   41.2 
\end{verbatim}

The test is valid if the data follows a normal distribution. For each of the tasks, below is a Q-Q plot comparing the actual values (points) to the theoretical normal (line), and the results of the Shapiro Wilk test of normality.

\begin{figure}[H]
		\centering
		\begin{subfigure}[b]{\textwidth}
			\includegraphics[width=\textwidth]{figure/task1qq.png}
		\end{subfigure}
		\begin{subfigure}[b]{\textwidth}
			\includegraphics[width=\textwidth]{figure/task2qq.png}
		\end{subfigure}
		\caption{Normality Tests for Creation Tasks}
	\end{figure}

\begin{tabular}{l l l}
Dataset & W & p-value \\
Task 1 & 0.8435 & 0.04854 \\
Task 2 & 0.8317 & 0.03511 \\
\end{tabular}

The learnability doesn't change much whether you speak English or not, so Sketchography is just as easy for non-native English speakers to pick up.
\begin{verbatim}
> summary(aov(TaskDiff~LanguageBinary, data=data))
               Df Sum Sq Mean Sq F value Pr(>F)
LanguageBinary  1    518   518.4   0.815  0.393
Residuals       8   5091   636.4                       
\end{verbatim}

\subsection{Modification}
The hypothesis was confirmed that people took significantly lesser time to modify the chart in Sketchography than they did in Excel.

\begin{verbatim}
> t.test(Sketch, Excel, paired = TRUE)

	Paired t-test

data:  Sketch and Excel
t = -4.5484, df = 9, p-value = 0.001389
alternative hypothesis: true difference in means 
is not equal to 0
95 percent confidence interval:
 -83.55241 -28.04759
sample estimates:
mean of the differences 
                  -55.8 
\end{verbatim}

Again, for the Paired T Test to be valid, we need to confirm that the data was normally distributed, which is shown below.
\begin{figure}[H]
		\centering
		\begin{subfigure}[b]{\textwidth}
			\includegraphics[width=\textwidth]{figure/sketchqq.png}
		\end{subfigure}
		\begin{subfigure}[b]{\textwidth}
			\includegraphics[width=\textwidth]{figure/excelqq.png}
		\end{subfigure}
		\caption{Normality Test for Modification Tasks}
	\end{figure}


\begin{tabular}{l l l}
Dataset & W & p-value \\
Sketch & 0.9426 & 0.3966 \\
Excel & 0.8943 & 0.1896 \\
\end{tabular}

Additionally, an Analysis of Variance was done to see whether being a non-native speaker of English made a difference to how much quicker you carried out the modification task in Sketchography compared to Excel.
\begin{verbatim}
> summary(aov(ModDiff~LanguageBinary, data=data))
               Df Sum Sq Mean Sq F value Pr(>F)
LanguageBinary  1   1392    1392   0.917  0.366
Residuals       8  12153    1519    
\end{verbatim}